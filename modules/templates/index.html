<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dialogue Interface</title>
  <link rel="stylesheet" href="static/styles.css">
  <script src="https://cdn.socket.io/4.6.0/socket.io.min.js"></script>
  <script src="static/interface.js"></script>
</head>
<body>
  <div id="main-container">
    <div id="connection-status">Disconnected</div>

    <!-- Primary Thought Bubble (for currently heard text) -->
    <div id="thought-bubble">
      <div id="thought-bubble-header">Currently hearing:</div>
      <div id="thought-bubble-content"></div> <!-- Displays current_text -->
    </div>

    <!-- V-- NEW: Second Thought Bubble for Central Concept --V -->
    <div id="thought-bubble-central">
      <div id="thought-bubble-central-header">Central Concept:</div>
      <div id="thought-bubble-central-content"></div> <!-- This will display the concept -->
    </div>
    <!-- ^-- NEW: Second Thought Bubble for Central Concept --^ -->

    <div id="avatar-container">
      <div id="emotion-display">üòê</div>
      <div id="avatar-info">
        <div id="state-text">idle</div> <!-- Displays action -->
        <div id="progress-container">
          <div id="progress-bar"></div>
        </div>
      </div>
    </div>

    <div id="transcript-container">
      <div class="transcript-section">
        <div class="transcript-label">System:</div>
        <div class="transcript-content" id="system-transcript"></div>
      </div>
      <div class="transcript-section">
        <div class="transcript-label">User:</div>
        <div class="transcript-content" id="user-transcript"></div>
      </div>
    </div>

    <!-- Hidden ASR display (kept for potential debug, but primary display is thought bubble) -->
    <div id="asr-display" style="display:none;">
      <div class="asr-label">Speech Recognition:</div>
      <div id="asr-text"></div>
    </div>

    <div id="input-area">
      <input type="text" id="asr-input" placeholder="Type your message here..." autocomplete="off">
      <div class="input-status">
        <div id="status-indicator" class="status-idle"></div>
        <span id="typing-status">Idle</span>
      </div>
    </div>
  </div>
</body>
</html>
